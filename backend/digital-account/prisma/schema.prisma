generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url = env("DATABASE_URL")
}

model User {
    id                  Int @id @default(autoincrement())
    documentNumber      String @unique()
    firstName           String
    lastName            String
    createdAt           DateTime @default(now())
    updatedAt           DateTime @updatedAt
    jointAccount        JointAccount[] @relation("user")
    @@map("users")
}

model Account {
    id                  Int @id @default(autoincrement())
    accountNumber       String @unique()
    value               Int
    blocked             Boolean
    balance             Int
    number              Int
    agency              Int
    createdAt           DateTime @default(now())
    updatedAt           DateTime @updatedAt
    jointAccount        JointAccount[] @relation("account")
    @@map("accounts")
}

model JointAccount {
    user        User @relation("user", fields: [userId], references: [documentNumber])
    userId      String
    account     Account @relation("account", fields: [accountId], references: [accountNumber])
    accountId   String

    @@id([userId, accountId])
    @@map("jointaccounts")
}